{"version":3,"sources":["webpack:///webpack/bootstrap 3b3274c05184a94cee6c","webpack:///./lib/index.js","webpack:///./~/mokit-plugin/index.js","webpack:///./lib/touch.js"],"names":["Plugin","require","module","exports","factory","thunk","opts","entity","install","mokit","use","utils","SUPPORT_TOUCH","document","START_EVENT_NAME","MOVE_EVENT_NAME","END_EVENT_NAME","CUSTOM_EVENT_NAMES","name","option","swipeDurationThreshold","swipeHorizontalDistanceThreshold","swipeVerticalDistanceThreshold","holdDurationThreshold","dblDurationThreshold","scrollSupressionThreshold","addListener","emitter","listener","capture","isFunction","self","touchstart","event","point","changedTouches","startPoint","endPoint","pageX","pageY","timeStamp","createHoldHandler","copy","emit","isPointDown","holdTimer","holdHandler","taphold","setTimeout","clearHoldHandler","clearTimeout","getTouchInfo","info","existStartAndStop","horizontalDistance","x","verticalDistance","y","horizontalDistanceValue","Math","abs","verticalDistanceVlaue","isHorizontal","isVertical","sHorizontal","isSwipeMove","isSwipeTime","isHoldTime","direction","touchmove","stopBubble","done","swipe","dbltap","PreTapTime","on","removeListener","off","EventEmitter","register","Touch"],"mappings":"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","file":"./mokit-touch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3b3274c05184a94cee6c","const Plugin = require('mokit-plugin');\nmodule.exports = new Plugin(function () {\n  return require('./touch');\n});\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","const factory = function (thunk) {\n  function Plugin(opts) {\n    return typeof Plugin.entity === 'function' ?\n      new Plugin.entity(opts) : Plugin.entity;\n  }\n  Plugin.install = function (mokit) {\n    factory.mokit = mokit;\n    this.entity = thunk();\n    this.entity.install(mokit);\n  };\n  if (typeof mokit !== 'undefined') {\n    mokit.use(Plugin);\n  }\n  return Plugin;\n};\n\nmodule.exports = factory;\n\n\n// WEBPACK FOOTER //\n// ./~/mokit-plugin/index.js","const mokit = require('mokit-plugin').mokit;\nconst utils = mokit.utils;\n\nconst SUPPORT_TOUCH = ('ontouchstart' in document);\nconst START_EVENT_NAME = SUPPORT_TOUCH ? 'touchstart' : 'mousedown';\nconst MOVE_EVENT_NAME = SUPPORT_TOUCH ? 'touchmove' : 'mousemove';\nconst END_EVENT_NAME = SUPPORT_TOUCH ? 'touchend' : 'mouseup';\nconst CUSTOM_EVENT_NAMES = `tap,taphold,dbltap,swipe,swipeup,swiperight,\nswipedown,swipeleft,pointdown,pointmove,pointup`;\n\nmodule.exports = {\n  name: CUSTOM_EVENT_NAMES,\n\n  option: {\n    swipeDurationThreshold: 1000,\n    swipeHorizontalDistanceThreshold: 25,\n    swipeVerticalDistanceThreshold: 45,\n    holdDurationThreshold: 1000,\n    dblDurationThreshold: 450,\n    scrollSupressionThreshold: 25\n  },\n\n  addListener: function (emitter, name, listener, capture) {\n    if (!utils.isFunction(listener)) return;\n\n    let self = this;\n\n    //处理 touchstart 事件\n    listener.touchstart = listener.touchstart || function (event) {\n      let point = event.changedTouches ? event.changedTouches[0] : event;\n      listener.startPoint = listener.endPoint = {\n        'x': point.pageX,\n        'y': point.pageY,\n        'timeStamp': event.timeStamp,\n        'point': point\n      };\n      if (name == 'taphold') {\n        listener.createHoldHandler(event);\n      }\n      //模拟鼠标事件\n      if (name == 'pointdown') {\n        utils.copy(listener.startPoint, event);\n        emitter.emit('pointdown', event);\n        emitter.isPointDown = true;\n      }\n    };\n\n    //创建 hold 处理器\n    listener.createHoldHandler = listener.createHoldHandler || function (event) {\n      // 处理 taphold 事件\n      if (!listener.holdTimer && !listener.holdHandler) {\n        let option = self.option;\n        listener.holdHandler = function () {\n          event.taphold = true;\n          emitter.emit('taphold', event);\n        };\n        listener.holdTimer = setTimeout(function () {\n          if (listener.holdHandler) listener.holdHandler();\n        }, option.holdDurationThreshold);\n      }\n    };\n\n    //清除 hold 处理器\n    listener.clearHoldHandler = listener.clearHoldHandler || function () {\n      if (listener.holdTimer) {\n        clearTimeout(listener.holdTimer);\n        listener.holdTimer = null;\n        listener.holdHandler = null;\n      }\n    };\n\n    //获取划动信息\n    listener.getTouchInfo = function (event) {\n      let point = event.changedTouches ? event.changedTouches[0] : event;\n      listener.endPoint = {\n        'x': point.pageX,\n        'y': point.pageY,\n        'timeStamp': event.timeStamp,\n        'point': point\n      };\n      //\n      let option = self.option;\n      // 一些计算结果\n      let info = {};\n      info.timeStamp = listener.endPoint ? listener.endPoint.timeStamp : null;\n      info.existStartAndStop = listener.endPoint && listener.startPoint;\n      info.horizontalDistance = info.existStartAndStop ? listener.endPoint.x - listener.startPoint.x : 0;\n      info.verticalDistance = info.existStartAndStop ? listener.endPoint.y - listener.startPoint.y : 0;\n      info.horizontalDistanceValue = Math.abs(info.horizontalDistance);\n      info.verticalDistanceVlaue = Math.abs(info.verticalDistance);\n      info.isHorizontal = info.horizontalDistanceValue >= info.verticalDistanceVlaue;\n      info.isVertical = !info.sHorizontal;\n      info.isSwipeMove = info.horizontalDistanceValue >= option.swipeHorizontalDistanceThreshold ||\n        info.verticalDistanceVlaue >= option.swipeVerticalDistanceThreshold;\n      info.isSwipeTime = info.existStartAndStop ?\n        listener.endPoint.timeStamp - listener.startPoint.timeStamp <= option.swipeDurationThreshold : true;\n      info.isHoldTime = info.existStartAndStop ?\n        listener.endPoint.timeStamp - listener.startPoint.timeStamp >= option.holdDurationThreshold : false;\n      //这里的 direction 仅是指划动方法，不代表 swipe 动作，swipe 动作还有时间或划动距离等因素\n      if (info.isHorizontal && info.horizontalDistance > 0) {\n        info.direction = 'right';\n      } else if (info.isHorizontal && info.horizontalDistance < 0) {\n        info.direction = 'left';\n      } else if (info.isVertical && info.verticalDistance > 0) {\n        info.direction = 'down';\n      } else if (info.isVertical && info.verticalDistance < 0) {\n        info.direction = 'up';\n      }\n      return info;\n    };\n\n    //处理 touchmove 事件\n    listener.touchmove = listener.touchmove || function (event) {\n      let info = listener.getTouchInfo(event);\n      if (info.isSwipeMove) {\n        listener.clearHoldHandler();\n      }\n      let stopBubble = false;\n      //模拟鼠标事件\n      if (emitter.isPointDown && name == 'pointmove') {\n        utils.copy(listener.endPoint, event);\n        emitter.emit('pointmove', event);\n        stopBubble = true;\n      }\n      //在绑定划动的方向上禁止滚动，因为 Android 4.x 不如此处理，touchend 事件将不触发\n      if ((name == 'swipe') || (name == 'swipe' + info.direction)) {\n        stopBubble = true;\n      }\n      //如果需要阻止冒泡\n      if (stopBubble) {\n        return false;\n      }\n    };\n\n    //完成事件\n    listener.done = listener.done || function (event) {\n      listener.clearHoldHandler();\n      let info = listener.getTouchInfo(event);\n      //模拟鼠标事件\n      if (name == 'pointup') {\n        utils.copy(listener.endPoint, event);\n        emitter.emit('pointup', event);\n        emitter.isPointDown = false;\n      }\n      // 根据计算结果判断\n      if (info.isSwipeTime && info.isSwipeMove) {\n        event.swipe = true;\n        event.direction = info.direction;\n        if (name == 'swipe') {\n          emitter.emit('swipe', event);\n        }\n        if (name == 'swipe' + event.direction) {\n          emitter.emit('swipe' + event.direction, event);\n        }\n      } else if (info.isSwipeTime && !info.isSwipeMove && !info.isHoldTime) {\n        if (name == 'tap') {\n          emitter.emit('tap', event);\n        }\n        if (name == 'dbltap') {\n          //处理 “双击”\n          let option = self.option;\n          event.dbltap = listener.PreTapTime && info.timeStamp - listener.PreTapTime <= option.dblDurationThreshold;\n          if (event.dbltap) {\n            emitter.emit('dbltap', event);\n            listener.PreTapTime = null;\n          } else {\n            listener.PreTapTime = listener.endPoint.timeStamp;\n          }\n        }\n      }\n    };\n\n    //绑定组合事件\n    emitter.on(START_EVENT_NAME, listener.touchstart, capture);\n    emitter.on(MOVE_EVENT_NAME, listener.touchmove, capture);\n    emitter.on(END_EVENT_NAME, listener.done, capture);\n\n  },\n\n  removeListener: function (emitter, name, listener, capture) {\n    //只有指定了 handler 才能取消构成组合事件的 “原事件”\n    //否则会直接移除会将其他 touchstart 等事件也移除\n    if (utils.isFunction(listener)) {\n      if (utils.isFunction(listener.touchstart)) {\n        emitter.off(START_EVENT_NAME, listener.touchstart, capture);\n      }\n      if (utils.isFunction(listener.touchmove)) {\n        emitter.off(MOVE_EVENT_NAME, listener.touchmove, capture);\n      }\n      if (utils.isFunction(listener.done)) {\n        emitter.off(END_EVENT_NAME, listener.done, capture);\n      }\n    }\n  },\n\n  install: function (mokit) {\n    mokit.EventEmitter.register(this);\n    mokit.Touch = this;\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/touch.js"],"sourceRoot":""}